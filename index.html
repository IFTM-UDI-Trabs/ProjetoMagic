<html>
    <head>
        <title>Teste Animacao</title>
        <meta charset="utf-8">

        <style>

            div{
                display: inline-block;
                width: 50px;
                height: 72px;
                margin-right: 10px;
                margin-left: 10px;
            }

            #imgDislike{
                width: 50px;
                height: 72px;

                transform: rotate(180deg);
            }

            #dislike{
                padding-top: 15px;
                width: 60px;
                height: 40px;

                transform: rotate(180deg);
            }

            #joia{
                padding-bottom: 15px;
                width: 60px;
                height: 40px;
            }

            #img{
                width: 50px;
                height: 72px;
            }

            #img:clicked{
                animation: like 2s ease-in-out;
                animation: like 2s ease-in-out .5s reverse;
            }

            @keyframes like {
                0% {
                    width: 50px;
                    height: 72px;
                    padding: 0px;
                }

                25% {
                    width: calc((50px/4)*3);
                    height: calc((72px/4)*3);
                    padding-top: calc(((72px/4)*1)/3);
                    padding-bottom: calc(((72px/4)*1)/2);
                    padding-left: calc(((50px/4)*1)/3);
                    padding-right: calc(((50px/4)*1)/2);
                }

                50% {
                    width: calc((50px/4)*2);
                    height: calc((72px/4)*2);
                    padding-top: calc(((72px/4)*2)/3);
                    padding-bottom: calc(((72px/4)*2)/2);
                    padding-left: calc(((50px/4)*2)/3);
                    padding-right: calc(((50px/4)*2)/2);
                }

                75% {
                    width: calc((50px/4)*1);
                    height: calc((72px/4)*1);
                    padding-top: calc(((72px/4)*3)/3);
                    padding-bottom: calc(((72px/4)*3)/2);
                    padding-left: calc(((50px/4)*3)/3);
                    padding-right: calc(((50px/4)*3)/2);
                }

                100% {
                    width: 0px;
                    height: 0px;
                    display: none;
                    padding-top: calc(((72px/4)*4)/3);
                    padding-bottom: calc(((72px/4)*4)/2);
                    padding-left: calc(((50px/4)*4)/3);
                    padding-right: calc(((50px/4)*4)/2);
                }
            }
        </style>

    </head>
    <body>
        <div>
            <img src="joia.png" id="dislike" onclick="animacaoDislike()">
        </div>
        <div>
            <img src="pocao_vazio.png" id="img" onclick="animacao()" value="0">
        </div>
        <div>
            <img src="joia.png" id="joia" onclick="animacao()">
        </div>
    </body>
    <script type="text/javascript">

        function animacao(){
            var img = document.getElementById('img');
            var src = img.getAttribute('src');

            if (src == "pocao_vazio.png"){
                // img.style.animationName = 'like';
                // img.style.animationDuration = '1s';
                // img.style.animationTimingFunction = "ease";

                img.style.animationName = 'like';
                img.style.animationDuration = '.1s';
                img.style.animationTimingFunction = 'ease-in-out';
                setTimeout(function (){
                    img.style.display = 'none';
                    img.src = "pocao_like.png";
                    console.log(img.getAttribute('value'));
                    img.value = "1";
                }, 90);
                setTimeout(function (){
                    img.style.display = 'inline';
                    img.style.animationName = 'like';
                    img.style.animationDuration = '.1s';
                    img.style.animationTimingFunction = 'ease-in-out';
                    img.style.animationDirection = 'reverse';
                }, 180)
            } else if(src == "pocao_dislike.png"){
                img.style.animationName = 'like';
                img.style.animationDuration = '.1s';
                img.style.animationTimingFunction = 'ease-in-out';
                setTimeout(function (){
                    img.style.display = 'none';
                    img.src = "pocao_like.png";
                    img.value = "1";
                }, 90);
                setTimeout(function (){
                    img.style.display = 'inline';
                    img.style.animationName = 'like';
                    img.style.animationDuration = '.1s';
                    img.style.animationTimingFunction = 'ease-in-out';
                    img.style.animationDirection = 'reverse';
                }, 180)
            }
        }

        function animacaoDislike(){
            var img = document.getElementById('img');
            var src = img.getAttribute('src');

            if (src == "pocao_vazio.png"){
                // img.style.animationName = 'like';
                // img.style.animationDuration = '1s';
                // img.style.animationTimingFunction = "ease";

                img.style.animationName = 'like';
                img.style.animationDuration = '.1s';
                img.style.animationTimingFunction = 'ease-in-out';
                setTimeout(function (){
                    img.style.display = 'none';
                    img.src = "pocao_dislike.png";
                    img.value = "1";
                }, 90);
                setTimeout(function (){
                    img.style.display = 'inline';
                    img.style.animationName = 'like';
                    img.style.animationDuration = '.1s';
                    img.style.animationTimingFunction = 'ease-in-out';
                    img.style.animationDirection = 'reverse';
                }, 180)
            } else if(src == "pocao_like.png"){
                img.style.animationName = 'like';
                img.style.animationDuration = '.1s';
                img.style.animationTimingFunction = 'ease-in-out';
                setTimeout(function (){
                    img.style.display = 'none';
                    img.src = "pocao_dislike.png";
                    img.value = "1";
                }, 90);
                setTimeout(function (){
                    img.style.display = 'inline';
                    img.style.animationName = 'like';
                    img.style.animationDuration = '.1s';
                    img.style.animationTimingFunction = 'ease-in-out';
                    img.style.animationDirection = 'reverse';
                }, 180)
            }
        }
    </script>
</html>